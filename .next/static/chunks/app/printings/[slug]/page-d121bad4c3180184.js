(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[137],{5378:(e,t,l)=>{"use strict";l.d(t,{A:()=>s});var r=l(5155);l(2115);let s=e=>{let{checked:t,onChange:l,heading:s,desc:a,price:n}=e;return(0,r.jsxs)("label",{className:"flex items-start p-4 rounded-xl border-2 cursor-pointer transition-all ".concat(t?"border-teal bg-teal/5 shadow-sm":"border-gray-100 bg-white hover:border-gray-200 hover:shadow-sm"),children:[(0,r.jsxs)("div",{className:"relative flex items-center justify-center w-5 h-5 mt-1 mr-4",children:[(0,r.jsx)("input",{type:"checkbox",checked:t,onChange:e=>l(e.target.checked),className:"peer appearance-none w-5 h-5 border-2 border-gray-300 rounded-md checked:border-teal checked:bg-teal transition-colors"}),(0,r.jsx)("svg",{className:"absolute w-3.5 h-3.5 text-white opacity-0 peer-checked:opacity-100 transition-opacity pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,r.jsx)("div",{className:"font-bold text-lg ".concat(t?"text-teal":"text-navy"),children:s}),(0,r.jsx)("div",{className:"font-bold text-teal ml-4",children:n})]}),(0,r.jsx)("div",{className:"text-gray-500 text-sm leading-relaxed",children:a})]})]})}},6654:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return s}});let r=l(2115);function s(e,t){let l=(0,r.useRef)(null),s=(0,r.useRef)(null);return(0,r.useCallback)(r=>{if(null===r){let e=l.current;e&&(l.current=null,e());let t=s.current;t&&(s.current=null,t())}else e&&(l.current=a(e,r)),t&&(s.current=a(t,r))},[e,t])}function a(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let l=e(t);return"function"==typeof l?l:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7022:(e,t,l)=>{"use strict";l.d(t,{default:()=>o});var r=l(5155),s=l(2115),a=l(6766),n=l(8088),i=l(1530),d=l(5378),c=l(7656);let o=e=>{var t,l,o;let{product:x,extraFeatures:m,productType:h}=e,{addToCart:u}=(0,n._)(),[b,f]=(0,s.useState)(1),[g,v]=(0,s.useState)({}),[p,j]=(0,s.useState)(x.methods&&x.methods.length>0?x.methods[0].id:""),y=()=>{var e;let t=null!=(e=x.salePrice)?e:x.basePrice,l=0;return null==m||m.forEach(e=>{g[e.id]&&(l+=e.price)}),(t+l)*b},N=null==(t=x.methods)?void 0:t.find(e=>e.id===p);return(0,r.jsx)("div",{className:"flex flex-col px-4 sm:px-8 md:px-[clamp(2rem,6vw,8rem)] py-12 bg-gray-50 min-h-screen",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8 xl:gap-16",children:[(0,r.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,r.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 mb-8",children:(0,r.jsx)("div",{className:"relative aspect-[4/3] rounded-xl overflow-hidden bg-gray-100",children:(0,r.jsx)(a.default,{src:(null==(l=x.image)?void 0:l.startsWith("/"))?"http://localhost:8080".concat(x.image):x.image||"",alt:x.name,fill:!0,className:"object-cover"})})}),(0,r.jsxs)("div",{className:"hidden lg:block bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[(0,r.jsx)("h3",{className:"font-bold text-xl text-navy mb-4",children:"Опис послуги"}),(0,r.jsx)("p",{className:"text-gray-600 leading-relaxed mb-6",children:x.description}),N&&(0,r.jsxs)("div",{className:"mt-6 bg-teal/5 p-4 rounded-xl border border-teal/20",children:[(0,r.jsxs)("h4",{className:"font-bold text-teal mb-2",children:["Обраний метод: ",N.name]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:N.description}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 font-medium",children:["Термін виготовлення: ",N.deadline," дн."]})]})]})]}),(0,r.jsx)("div",{className:"lg:w-[500px] xl:w-[550px] flex-shrink-0",children:(0,r.jsx)("div",{className:"sticky top-24 space-y-6",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-navy mb-2",children:x.name}),(0,r.jsxs)("div",{className:"flex items-baseline gap-3 mb-2",children:[(0,r.jsxs)("span",{className:"text-3xl font-extrabold text-navy",children:[null!=(o=x.salePrice)?o:x.basePrice," грн"]}),null!=x.salePrice&&(0,r.jsxs)("span",{className:"text-xl text-gray-400 line-through font-medium",children:[x.basePrice," грн"]})]}),(0,r.jsxs)("div",{className:"text-gray-400 text-sm font-medium mb-8",children:["Артикул: ",x.article]}),x.methods&&x.methods.length>0&&(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h3",{className:"font-bold text-lg text-navy mb-4",children:"Спосіб друку"}),(0,r.jsx)("div",{className:"flex flex-col gap-3",children:x.methods.map(e=>(0,r.jsxs)("button",{onClick:()=>j(e.id),className:"text-left px-5 py-3 rounded-xl border-2 transition-all ".concat(p===e.id?"border-teal bg-teal/5 text-navy":"border-gray-100 bg-gray-50 text-gray-600 hover:border-gray-300"),children:[(0,r.jsx)("div",{className:"font-bold text-sm mb-1",children:e.name}),(0,r.jsx)("div",{className:"text-xs opacity-80",children:e.description})]},e.id))})]}),m.length>0&&(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h3",{className:"font-bold text-lg text-navy mb-4",children:"Додаткові опції"}),(0,r.jsx)("div",{className:"space-y-3",children:m.map(e=>{var t;return(0,r.jsx)(d.A,{checked:null!=(t=g[e.id])&&t,onChange:()=>(e=>{v(t=>({...t,[e]:!t[e]}))})(e.id),heading:e.name,price:"+".concat(e.price," грн"),desc:e.description},e.id)})})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h3",{className:"font-bold text-lg text-navy mb-4",children:"Кількість"}),(0,r.jsx)("div",{className:"flex items-center gap-4",children:(0,r.jsxs)("div",{className:"flex items-center border border-gray-200 rounded-xl bg-gray-50",children:[(0,r.jsx)("button",{onClick:()=>f(e=>e>1?e-1:1),className:"w-12 h-12 flex items-center justify-center text-xl font-bold text-gray-500 hover:bg-gray-100 rounded-l-xl transition-colors",children:"-"}),(0,r.jsx)("div",{className:"w-12 h-12 flex items-center justify-center text-xl font-bold text-navy bg-white border-x border-gray-200",children:b}),(0,r.jsx)("button",{onClick:()=>f(e=>e+1),className:"w-12 h-12 flex items-center justify-center text-xl font-bold text-gray-500 hover:bg-gray-100 rounded-r-xl transition-colors",children:"+"})]})})]}),(0,r.jsxs)("div",{className:"border-t border-gray-100 pt-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-end mb-6",children:[(0,r.jsx)("span",{className:"text-gray-500 font-medium",children:"Разом до оплати:"}),(0,r.jsxs)("div",{className:"text-3xl font-extrabold text-teal",children:[y()," грн"]})]}),(0,r.jsx)("button",{onClick:()=>{var e;let t=null==(e=x.methods)?void 0:e.find(e=>e.id===p);if(x.methods&&x.methods.length>0&&!p)return void i.Ay.error("Будь ласка, оберіть спосіб друку");u((0,c.U)({product:x,productType:h,selectedFeatures:g,extraFeatures:m,quantity:b,totalPrice:y(),specifications:{method_id:p,method_name:(null==t?void 0:t.name)||""}})),i.Ay.success('"'.concat(x.name,'" додано до кошика!'))},className:"w-full bg-teal text-white font-bold rounded-xl py-4 text-lg hover:bg-navy transition-all shadow-lg shadow-teal/20 active:scale-[0.98]",children:"ДОДАТИ В КОШИК"})]})]})})})]})})}},7656:(e,t,l)=>{"use strict";l.d(t,{U:()=>r});let r=e=>{var t;let{product:l,productType:r,selectedFeatures:s,extraFeatures:a,specifications:n,quantity:i,totalPrice:d}=e,c=(a||[]).filter(e=>s[e.id]).map(e=>{var t;return{id:e.id,label:null!=(t=e.name)?t:"",price:e.price}}),o=(null==(t=l.image)?void 0:t.startsWith("/"))?"".concat("http://localhost:8080").concat(l.image):l.image;return{productId:l.id,productType:r,title:l.name,code:l.article,imageUrl:o,specifications:n,options:c,quantity:i,price:l.salePrice||l.basePrice,total:d}}},8088:(e,t,l)=>{"use strict";l.d(t,{CartProvider:()=>n,_:()=>i});var r=l(5155),s=l(2115);let a=(0,s.createContext)(void 0),n=e=>{let{children:t}=e,[l,n]=(0,s.useState)([]),[i,d]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=localStorage.getItem("cart");if(e)try{n(JSON.parse(e))}catch(e){console.error("Failed to parse cart from local storage",e)}d(!0)},[]),(0,s.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify(l))},[l]),(0,r.jsx)(a.Provider,{value:{items:l,addToCart:e=>{let t={...e,id:Date.now().toString()};n(e=>[...e,t])},removeFromCart:e=>{n(t=>t.filter(t=>t.id!==e))},clearCart:()=>{n([])},isLoaded:i},children:t})},i=()=>{let e=(0,s.useContext)(a);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},9182:(e,t,l)=>{Promise.resolve().then(l.bind(l,7022))}},e=>{e.O(0,[766,530,441,964,358],()=>e(e.s=9182)),_N_E=e.O()}]);